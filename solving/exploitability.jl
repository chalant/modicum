module exploitability

using bestresponse
using infosets


@inline function expectedvalue(h::H, br_h::B, pl::I) where {I<:Integer, H<:AbstractHistory, B<:BestResponseHistory}
end

function computeexploitability!(gs::G, h::H, br_h::B) where {G<:AbstractGameState, H<:AbstractHistory, B<:BestResponseHistory}

    # create/update best response strategies for each player
    for pl in players!(gs)
        bestresponse!(gs, h, br_h, pl)
    end

    ev = T(0)

    # compute expected value for playing against a strategy for
    # each player
    for pl in players!(gs)
        ev += expectedvalue(h, br_h, pl)
    end

    return ev / 2 * 1000

end

end